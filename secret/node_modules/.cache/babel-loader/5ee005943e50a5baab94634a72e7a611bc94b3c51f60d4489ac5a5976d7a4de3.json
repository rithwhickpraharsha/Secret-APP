{"ast":null,"code":"import axios from\"axios\";import{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function YourSecret(){const navigate=useNavigate();const[secret,setSecret]=useState([]);async function Remove(){try{const token=localStorage.getItem('secret-app');await axios.post('https://secret-app-backend.onrender.com/secret/remove',{token:token});}catch(e){console.log(e);alert(e.response.data);}}useEffect(()=>{async function show(){const token=localStorage.getItem('secret-app');if(!token)navigate(\"/\");const data=await axios.post('https://secret-app-backend.onrender.com/secret/show/user',{token:token});setSecret(data.data);}const check=localStorage.getItem('secret-app');if(!check){navigate('/');}show();},[secret]);return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-black h-screen\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"bg-gray-dark h-10 md:h-15 lg:h-20 text-white font-pacifico text-2xl md:text-3xl lg:text-4xl  flex justify-center m-auto\",children:\"Your Secrets\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row justify-end\",children:[\" \",/*#__PURE__*/_jsx(\"button\",{className:\"h-5 md:h-7 lg:h-10 text-white hover:bg-red hover:text-black   bg-dark-blue px-[2vh] mr-[1vh] border border-purple\",onClick:e=>{Remove();},children:\"delete\"}),/*#__PURE__*/_jsx(\"button\",{className:\"h-5 md:h-7 lg:h-10  text-white hover:bg-red hover:text-black   bg-dark-blue  px-[2vh] border border-purple\",onClick:()=>{localStorage.removeItem('secret-app');navigate(\"/\");},children:\"Logout\"})]}),secret.map((x,i)=>{return/*#__PURE__*/_jsxs(\"div\",{className:\"h-auto w-auto bg-dark-blue my-5\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-white text-xl md:text-2xl lg:text-5xl flex justify-center border border-green h-8 md:h-12 lg:h-16 overflow-auto\",children:x.category}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-white text-xl md:text-2xl lg:text-3xl my-2 border border-green h-48 md:h-36 sm:h-24 overflow-auto\",children:x.secret})]});})]});}","map":{"version":3,"names":["axios","useEffect","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","YourSecret","navigate","secret","setSecret","Remove","token","localStorage","getItem","post","e","console","log","alert","response","data","show","check","className","children","onClick","removeItem","map","x","i","category"],"sources":["C:/Users/Rithwhick/OneDrive/Desktop/repos/secret-app/secret/src/components/YourSecret.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useEffect,useState } from \"react\"\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n\r\nexport default function YourSecret(){\r\nconst navigate = useNavigate();\r\n\r\n\r\nconst [secret,setSecret] = useState([]);\r\nasync function Remove(){\r\n    try{\r\n        const token= localStorage.getItem('secret-app');\r\n      await axios.post('https://secret-app-backend.onrender.com/secret/remove',{token:token});\r\n    }\r\n    catch(e){\r\n        console.log(e);\r\n        alert(e.response.data);\r\n    }\r\n\r\n}\r\nuseEffect(()=>{\r\n    async function show(){\r\n        const token= localStorage.getItem('secret-app');\r\n        if(!token)navigate(\"/\");\r\n        const data = await axios.post('https://secret-app-backend.onrender.com/secret/show/user',{token:token});\r\n\r\n        setSecret(data.data);\r\n    }\r\n    const check= localStorage.getItem('secret-app');\r\n    if(!check){\r\n        navigate('/');\r\n    }\r\nshow();\r\n},[secret]);\r\nreturn(\r\n    <div className=\"bg-black h-screen\">\r\n        <h1 className=\"bg-gray-dark h-10 md:h-15 lg:h-20 text-white font-pacifico text-2xl md:text-3xl lg:text-4xl  flex justify-center m-auto\">Your Secrets</h1>\r\n       <div className=\"flex flex-row justify-end\"> <button className=\"h-5 md:h-7 lg:h-10 text-white hover:bg-red hover:text-black   bg-dark-blue px-[2vh] mr-[1vh] border border-purple\" onClick={(e)=>{Remove()}}>delete</button><button className=\"h-5 md:h-7 lg:h-10  text-white hover:bg-red hover:text-black   bg-dark-blue  px-[2vh] border border-purple\" onClick={()=>{localStorage.removeItem('secret-app'); navigate(\"/\")}}>Logout</button></div>\r\n        {\r\n        secret.map((x,i)=>{\r\n         return (<div className=\"h-auto w-auto bg-dark-blue my-5\">\r\n            <h1 className=\"text-white text-xl md:text-2xl lg:text-5xl flex justify-center border border-green h-8 md:h-12 lg:h-16 overflow-auto\">{x.category}</h1>\r\n\r\n            <h1 className=\"text-white text-xl md:text-2xl lg:text-3xl my-2 border border-green h-48 md:h-36 sm:h-24 overflow-auto\">{x.secret}</h1>\r\n\r\n            </div>)\r\n        })\r\n        }\r\n    </div>\r\n);\r\n\r\n\r\n\r\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,CAACC,QAAQ,KAAQ,OAAO,CAC1C,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAG/C,cAAe,SAAS,CAAAC,UAAUA,CAAA,CAAE,CACpC,KAAM,CAAAC,QAAQ,CAAGN,WAAW,CAAC,CAAC,CAG9B,KAAM,CAACO,MAAM,CAACC,SAAS,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CACvC,cAAe,CAAAU,MAAMA,CAAA,CAAE,CACnB,GAAG,CACC,KAAM,CAAAC,KAAK,CAAEC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,CACjD,KAAM,CAAAf,KAAK,CAACgB,IAAI,CAAC,uDAAuD,CAAC,CAACH,KAAK,CAACA,KAAK,CAAC,CAAC,CACzF,CACA,MAAMI,CAAC,CAAC,CACJC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC,CACdG,KAAK,CAACH,CAAC,CAACI,QAAQ,CAACC,IAAI,CAAC,CAC1B,CAEJ,CACArB,SAAS,CAAC,IAAI,CACV,cAAe,CAAAsB,IAAIA,CAAA,CAAE,CACjB,KAAM,CAAAV,KAAK,CAAEC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,CAC/C,GAAG,CAACF,KAAK,CAACJ,QAAQ,CAAC,GAAG,CAAC,CACvB,KAAM,CAAAa,IAAI,CAAG,KAAM,CAAAtB,KAAK,CAACgB,IAAI,CAAC,0DAA0D,CAAC,CAACH,KAAK,CAACA,KAAK,CAAC,CAAC,CAEvGF,SAAS,CAACW,IAAI,CAACA,IAAI,CAAC,CACxB,CACA,KAAM,CAAAE,KAAK,CAAEV,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,CAC/C,GAAG,CAACS,KAAK,CAAC,CACNf,QAAQ,CAAC,GAAG,CAAC,CACjB,CACJc,IAAI,CAAC,CAAC,CACN,CAAC,CAAC,CAACb,MAAM,CAAC,CAAC,CACX,mBACIH,KAAA,QAAKkB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAC9BrB,IAAA,OAAIoB,SAAS,CAAC,yHAAyH,CAAAC,QAAA,CAAC,cAAY,CAAI,CAAC,cAC1JnB,KAAA,QAAKkB,SAAS,CAAC,2BAA2B,CAAAC,QAAA,EAAC,GAAC,cAAArB,IAAA,WAAQoB,SAAS,CAAC,mHAAmH,CAACE,OAAO,CAAGV,CAAC,EAAG,CAACL,MAAM,CAAC,CAAC,EAAE,CAAAc,QAAA,CAAC,QAAM,CAAQ,CAAC,cAAArB,IAAA,WAAQoB,SAAS,CAAC,4GAA4G,CAACE,OAAO,CAAEA,CAAA,GAAI,CAACb,YAAY,CAACc,UAAU,CAAC,YAAY,CAAC,CAAEnB,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAAiB,QAAA,CAAC,QAAM,CAAQ,CAAC,EAAK,CAAC,CAEnbhB,MAAM,CAACmB,GAAG,CAAC,CAACC,CAAC,CAACC,CAAC,GAAG,CACjB,mBAAQxB,KAAA,QAAKkB,SAAS,CAAC,iCAAiC,CAAAC,QAAA,eACrDrB,IAAA,OAAIoB,SAAS,CAAC,sHAAsH,CAAAC,QAAA,CAAEI,CAAC,CAACE,QAAQ,CAAK,CAAC,cAEtJ3B,IAAA,OAAIoB,SAAS,CAAC,wGAAwG,CAAAC,QAAA,CAAEI,CAAC,CAACpB,MAAM,CAAK,CAAC,EAEjI,CAAC,CACV,CAAC,CAAC,EAED,CAAC,CAKV"},"metadata":{},"sourceType":"module","externalDependencies":[]}